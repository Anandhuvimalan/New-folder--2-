{% extends "base.html" %}
{% block title %}Courses - Student Management{% endblock %}
{% block content %}
  <h2>Course Management</h2>
  
  <div class="section">
    <h3>Add New Course</h3>
    <form method="post" action="{{ url_for('ui_create_course') }}">
      <label>Course Name</label>
      <input type="text" name="course_name" required>
      <button type="submit">Add Course</button>
    </form>
  </div>

  <div class="section">
    <h3>All Courses ({{ courses|length }} total)</h3>
    <table>
      <tr>
        <th>Course ID</th>
        <th>Course Name</th>
        <th>Enrolled Students</th>
        <th>Actions</th>
      </tr>
      {% for c in courses %}
        <tr>
          <td>{{ c.id }}</td>
          <td>{{ c.course_name }}</td>
          <td>{{ c.enrollment_count|default(0) }}</td>
          <td>
            <form method="post" action="{{ url_for('ui_delete_course', course_id=c.id) }}" style="display:inline;">
              <button class="danger" type="submit" onclick="return confirm('Delete course {{ c.course_name }}? This will also delete related enrollments and payments.')">Delete</button>
            </form>
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>
{% endblock %}
